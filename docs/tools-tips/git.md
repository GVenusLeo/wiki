# Git 规范

## 1 提交

【**原则**】：每次提交只处理一件事。

【**格式**】：标题 + 标题内容 + 描述(可选).

【**举例**】：

```md
<feature> 新增：角色跳跃
物理组件为 Character Controller
```

【**标题约束**】：

| 标题 | 说明 | 举例 |
| :---: | --- | --- |
| `<feature>` | (增删改)代码功能 | `<feature> 修改：侧边栏宽度` |
| `<refactor>` | 重构代码但不影响功能(可影响性能) | `<refactor> 重构：日历组件` |
| `<asset>` | (增删改)资源，如图片、字体文件 | `<asset> 修改：封面图片` |
| `<plugin>` | (增删改)插件 | `<plugin> 新增：MindMap 插件` |
| `<doc>` | (增删改)文档 | `<doc> 修改：README` |
| `<test>` | (增删改)测试 | `<test> 新增：资源加载测试` |
| `<misc>` | 杂项，如：本版升级、移除文本 | `<misc> Python 升级到 3.10.2` |


【**标题内容约束**】：

| 内容前缀 | 举例 |
| :---: | --- |
| 新增 | `<asset> 新增：思源宋体` |
| 修改 | `<doc> 修改：Python 版本号` |
| 删除 | `<refactor> 删除：折叠列表组件` |

## 2 分支协作

【**原则**】：分支不共用。

【**固定分支**】：

- `main`：稳定可运行分支。一般情况下从这个分支发布稳定版本。
- `develop`：处于开发状态的分支。一般情况下从这个分支创建出其他分支。

【**分支命名规范**】：

- 分支名：分支前缀 + / + 分支用途描述 + @分支归属者
- 举例：`feature/notice@liuyuxin`

【**分支前缀约束**】：

| 分支前缀 | 说明 |
| :---: | --- |
| `feature` | 功能开发 |
| `refactor` | 重构 |
| `asset` | (增删改)资源 |
| `test` | (增删改)测试 |
| `issue` | 处理某一条 issue 的专用分支 |
| `release` | 版本分支，由管理员创建，不可删除 |

【**创建分支步骤**】：

1. 默认情况下，从 `develop` 创建分支，可从网页上直接创建，也可通过 git 创建。
2. 推送分支到仓库。

【**合并分支步骤**】：

1. 提交内容到本分支(自己的分支)。
2. 在网页上提交 merge request，将本分支合并到目标分支。
3. 如有冲突，与目标分支归属者共同处理。
4. @管理员，通知合并已提交。
